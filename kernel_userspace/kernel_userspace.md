# 1. 内核空间与用户空间
Linux系统中，应用层位于用户空间，内核位于内核空间。
    
只有在内核空间中，程序才具有更高级的操作权限，在用户空间某些操作会受限，这样做是为了避免应用程序在进行某些非法操作时，直接导致系统崩溃。

但是，应用层也可以通过某些方式来进行和内核层通信，从而达到实现更高级权限操作的作用。

# 2. 内核层与用户层之间的通信方式
在Linux系统中，应用层与内核层之间的通信可以通过多种方式进行，这里先介绍常用的几种方式，如系统调用、虚拟文件系统、ioctl接口和netlink。      

## 2.1 系统调用
 应用与内核通信的方式中，最常用的就是系统调用。如常见的open、write、read、ioctl等系统调用。当系统调用时，**触发一个软中断**，处理器进入内核模式。参数传递到内核空间，完成通信过程。内核完成服务之后，将数据返回给应用，并设置处理器为用户模式。

 ## 2.2 虚拟文件系统
Linux中，一切皆文件，处理器的各种信息也是以文件的形式供应用程序访问。proc和sys，这两个目录是内核在启动时自动生成的，并不位于磁盘中。另外还有debugfs，是一种用于内核调试的虚拟文件系统。

* /proc：以文件系统的方式为用户提供访问系统内核数据的操作接口。proc文件系统是一种内核和内核模块用来向进程（process）发送信息的机制，因此被称为 proc。**主要目的是反映进程的状态信息。**

* /sysfs：这是由内核在运行时导出的，目的就是通过文件系统展示出设备、驱动和总线等层次关系。**主要用于Linux设备模型。**
二者区别：proc只读，sys可读可写，写入即是对系统进行设置。

* debugfs：在调试时可能需要修改某些内核变量，这种情况下printk就无能为力，而如果为了修改某个值重新编译内核或者驱动又过于低效，此时就需要一个临时的文件系统可以把我们需要关心的数据映射到用户空间。默认情况下，debugfs会被挂载在目录/sys/kernel/debug之下。
